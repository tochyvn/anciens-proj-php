<?xml version="1.0" encoding="iso-8859-15"?>
<spool nom="localerte_cologimmo">
  <initialisation>
    <url>http://www.cologimmo.com/consultann.php?type_bien=&amp;statut=&amp;primin=&amp;primax=&amp;surfacemin=&amp;surfacemax=&amp;nbpiecemin=&amp;nbpiecemax=&amp;ville2=&amp;pays=France&amp;ville=Indifferent&amp;nature=location&amp;tri=date&amp;typeannonce=offre&amp;galery=&amp;page=1</url>
  </initialisation>
  <navigation>
     <profondeur>1000</profondeur>
     <pause>0</pause>
     <timeout>60</timeout>
     <thread>5</thread>
    <rang>
      <a_suivre>
         <expression>&lt;a href='([^']+)'&gt;suivant &amp;raquo;</expression>
         <remplacement>http://www.cologimmo.com/$1</remplacement>
         <limite>1</limite>
         <suivant>0</suivant>
       </a_suivre>
      <a_suivre>
         <expression>&lt;div class=&quot;paginationservice&quot;&gt;&lt;a href='([^']+)'&gt;</expression>
         <remplacement>http://www.cologimmo.com/$1</remplacement>
         <limite>100</limite>
         <suivant>1</suivant>
       </a_suivre>
    </rang>
    <rang>
      <a_capturer>
         <expression>(.+)</expression>
         <remplacement>$1</remplacement>
         <option>s</option>
         <limite>1</limite>
       </a_capturer>
    </rang>
  </navigation>
  <capture>
     <destination>localerte_cologimmo.csv</destination>
     <echappement>\</echappement>
     <separateur>;</separateur>
     <encapsulateur>"</encapsulateur>
     <ligne>CRLF</ligne>
     <enlever_balise>1</enlever_balise>
     <enlever_entite>1</enlever_entite>
    <exclusion>
      <fichier>exclusion.csv</fichier>
    </exclusion>
    <parent>
       <expression>(.+)</expression>
	   <remplacement>$1</remplacement>
	   <option>s</option>
     </parent>
    <enfant>
       <expression>(.+)</expression>
	   <remplacement>$1</remplacement>
	   <limite>1</limite>
	   <option>s</option>
     </enfant>
    <colonnes>
      <colonne mode="valeur" nom="">
        <valeur>Cologimmo</valeur>
      </colonne>
      <colonne mode="valeur" nom="">
        <valeur>1</valeur>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;span&gt;[^0-3]+([0-9]{2})-([0-9]{2})-([0-9]{4})</expression>
        <remplacement>$1/$2/$3</remplacement>
        <recherche>ENFANT</recherche>
        <limite>1</limite>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>([^-]+)\.html$</expression>
        <remplacement>$1</remplacement>
        <recherche>LOCATION</recherche>
        <limite>1</limite>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;div class=&quot;consult_left&quot;&gt; [^&amp;]+ &amp;raquo; [^&amp;]+  &amp;raquo; ([^\t]+)</expression>
        <remplacement>$1</remplacement>
        <recherche>ENFANT</recherche>
        <limite>1</limite>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;b&gt;Code postal&lt;\/b&gt; : ([0-9]{5})</expression>
        <remplacement>$1</remplacement>
        <recherche>ENFANT</recherche>
        <limite>1</limite>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;h1&gt;offre &amp;raquo; location  &amp;raquo; ([^&lt;]+)</expression>
        <remplacement>$1</remplacement>
        <recherche>ENFANT</recherche>
	    <option>i</option>
        <limite>1</limite>
        <filtres>
          <filtre>
            <expression>^appartement  &amp;raquo; ([0-9]+).+$</expression>
            <remplacement>T$1</remplacement>
            <option>i</option>
          </filtre>
          <filtre>
            <expression>^([^&amp;T]+).+$</expression>
            <remplacement>$1</remplacement>
          </filtre>
        </filtres>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;div class=&quot;consult_right&quot;&gt;([^E]+)</expression>
        <remplacement>$1</remplacement>
        <recherche>ENFANT</recherche>
        <limite>1</limite>
        <filtres>
          <filtre>
            <expression>[^0-9]+</expression>
            <remplacement />
          </filtre>
        </filtres>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;\/h1&gt;[^&lt;]+&lt;br \/&gt;(.+)\t{20}&lt;br \/&gt;&lt;br \/&gt;</expression>
        <remplacement>$1</remplacement>
        <recherche>ENFANT</recherche>
	    <option>s</option>
        <limite>1</limite>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;h1&gt;(.+)&lt;\/h1&gt;</expression>
        <remplacement>$1</remplacement>
        <recherche>ENFANT</recherche>
        <limite>1</limite>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>\t(Particulier|Agence immobili..?re|Agent ind..?pendant|Notaire)\t</expression>
        <remplacement>$1</remplacement>
        <recherche>ENFANT</recherche>
        <limite>1</limite>
        <filtres>
          <filtre>
            <expression>Particulier</expression>
            <remplacement>PARTICULIER</remplacement>
          </filtre>
          <filtre>
            <expression>^(Agence immobili..?re|Agent ind..?pendant|Notaire)$</expression>
            <remplacement>PROFESSIONNEL</remplacement>
          </filtre>
        </filtres>
      </colonne>
      <colonne mode="valeur" nom="">
        <valeur />
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;img[^&gt;]+src=&quot;([^&quot;]+)&quot;[^&gt;]+name=&quot;big&quot;</expression>
        <remplacement>http://www.cologimmo.com/$1</remplacement>
        <recherche>ENFANT</recherche>
        <limite>1</limite>
      </colonne>
      <colonne mode="expression" nom="">
        <expression>(.+)</expression>
        <remplacement>$1</remplacement>
        <recherche>LOCATION</recherche>
        <limite>1</limite>
      </colonne>
      <colonne mode="valeur" nom="">
        <valeur />
      </colonne>
      <colonne mode="expression" nom="">
        <expression>&lt;b&gt;T..?l..?phone.*&lt;\/b&gt;  : ([0-9]+)</expression>
        <remplacement>$1</remplacement>
        <recherche>ENFANT</recherche>
        <limite>2</limite>
      </colonne>
    </colonnes>
  </capture>
</spool>
